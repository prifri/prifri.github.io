<!DOCTYPE html>
<html lang="en" class="color-toggle-hidden">

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark" />





    <meta name="description" content="참고사이트 문c블로그 Cache-Coherent
 Cache Policies Cache Allocation Policies WA, RA(Write-Allocate, Read-Allocate)   Write시 Cache에 해당 메모리가 없을때(Miss발생시)
 Cache에 해당 메모리의 데이터를 할당. 할당된 캐시에 데이터를 기록한다.    Write시 Cache에 해당 메모리가 존재할때
 RAM에 접근하지않고 Cache에만 접근하고 끝날것이다.    cache data는 dirty, memory data는 old가 될것이다.
Read또한 마찬가지로 read시 cache에 없으면 cache에 할당한다.
꽤 많은 블로그에서 WA에대 잘못설명한다.
Cache에 할당하지 않고 바로 Memory에 Write 하기때문에 WT랑 같이 사용하지 않는다는둥, 대부분의 시스템에서는 WT nWA를 사용한다는둥.">



    <title>Cache | Test1234가나다라</title>

    <link rel="icon" href="/favicon/favicon-32x32.png" type="image/x-icon">

    <script src="/js/darkmode-ce906ea916.min.js"></script>

<link rel="preload" as="font" href="/fonts/Metropolis.woff2" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="/fonts/LiberationSans.woff2" type="font/woff2" crossorigin="anonymous">

<link rel="preload" href="/main-0c0de99286.min.css" as="style">
<link rel="stylesheet" href="/main-0c0de99286.min.css" media="all">

<link rel="preload" href="/mobile-c344439d04.min.css" as="style">
<link rel="stylesheet" href="/mobile-c344439d04.min.css" media="screen and (max-width: 45rem)">

<link rel="preload" href="/print-f79fc3e5d7.min.css" as="style">
<link rel="stylesheet" href="/print-f79fc3e5d7.min.css" media="print">

<link rel="preload" href="/custom.css" as="style">
<link rel="stylesheet" href="/custom.css" media="all">



<!-- Made with Geekdoc theme https://github.com/thegeeklab/hugo-geekdoc -->

    

</head>

<body itemscope itemtype="https://schema.org/WebPage">
    
<!-- geekdoc include: sprites/geekdoc.svg -->
<svg class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_back" xmlns="http://www.w3.org/2000/svg"><path d="M24 10.526v2.947H5.755l8.351 8.421-2.105 2.105-12-12 12-12 2.105 2.105-8.351 8.421H24z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_left_alt" xmlns="http://www.w3.org/2000/svg"><path d="M5.965 10.526V6.035L0 12l5.965 5.965v-4.491H24v-2.947H5.965z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_right_alt" xmlns="http://www.w3.org/2000/svg"><path d="M18.035 10.526V6.035L24 12l-5.965 5.965v-4.491H0v-2.947h18.035z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_bitbucket" xmlns="http://www.w3.org/2000/svg"><path d="M15.905 13.355c.189 1.444-1.564 2.578-2.784 1.839-1.375-.602-1.375-2.784-.034-3.403 1.151-.705 2.818.223 2.818 1.564zm1.907-.361c-.309-2.44-3.076-4.056-5.328-3.042-1.426.636-2.389 2.148-2.32 3.747.086 2.097 2.08 3.815 4.176 3.626s3.729-2.234 3.472-4.331zm4.108-9.315c-.756-.997-2.045-1.169-3.179-1.358-3.214-.516-6.513-.533-9.727.034-1.066.172-2.269.361-2.939 1.323 1.1 1.031 2.664 1.186 4.073 1.358 2.544.327 5.156.344 7.699.017 1.426-.172 3.008-.309 4.073-1.375zm.979 17.788c-.481 1.684-.206 3.953-1.994 4.932-3.076 1.701-6.806 1.89-10.191 1.289-1.787-.327-3.884-.894-4.864-2.578-.43-1.65-.705-3.334-.98-5.018l.103-.275.309-.155c5.121 3.386 12.288 3.386 17.427 0 .808.241.206 1.22.189 1.805zM26.01 4.951c-.584 3.764-1.255 7.51-1.908 11.257-.189 1.1-1.255 1.719-2.148 2.183-3.214 1.615-6.96 1.89-10.483 1.512-2.389-.258-4.829-.894-6.771-2.389-.911-.705-.911-1.908-1.083-2.922-.602-3.523-1.289-7.046-1.719-10.604.206-1.547 1.942-2.217 3.231-2.698C6.848.654 8.686.362 10.508.19c3.884-.378 7.854-.241 11.618.859 1.341.395 2.784.945 3.695 2.097.412.533.275 1.203.189 1.805z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_bookmark" xmlns="http://www.w3.org/2000/svg"><path d="M15.268 4.392q.868 0 1.532.638t.664 1.506v17.463l-7.659-3.268-7.608 3.268V6.536q0-.868.664-1.506t1.532-.638h10.876zm4.34 14.144V4.392q0-.868-.638-1.532t-1.506-.664H6.537q0-.868.664-1.532T8.733 0h10.876q.868 0 1.532.664t.664 1.532v17.412z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_auto" xmlns="http://www.w3.org/2000/svg"><path d="M16.846 18.938h2.382L15.22 7.785h-2.44L8.772 18.938h2.382l.871-2.44h3.95zm7.087-9.062L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809zm-11.385 4.937L14 10.282l1.452 4.531h-2.904z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_dark" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079 0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565q-1.51 0-3.079.697 1.917.871 3.108 2.701T15.22 14t-1.191 4.037-3.108 2.701q1.568.697 3.079.697zm9.933-11.559L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_light" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079 0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565 8.743 8.743 6.565 14t2.178 5.257T14 21.435zm9.933-3.311v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809L27.999 14z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_cloud_off" xmlns="http://www.w3.org/2000/svg"><path d="M9.023 10.5H7q-1.914 0-3.281 1.395t-1.367 3.309 1.367 3.281T7 19.852h11.375zM3.5 4.976l1.477-1.477L24.5 23.022l-1.477 1.477-2.352-2.297H6.999q-2.898 0-4.949-2.051t-2.051-4.949q0-2.844 1.969-4.867t4.758-2.133zm19.086 5.578q2.242.164 3.828 1.832T28 16.351q0 3.008-2.461 4.758l-1.695-1.695q1.805-.984 1.805-3.063 0-1.422-1.039-2.461t-2.461-1.039h-1.75v-.602q0-2.68-1.859-4.539t-4.539-1.859q-1.531 0-2.953.711l-1.75-1.695Q11.431 3.5 14.001 3.5q2.953 0 5.496 2.078t3.09 4.977z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_code" xmlns="http://www.w3.org/2000/svg"><path d="M9.917 24.5a1.75 1.75 0 10-3.501.001 1.75 1.75 0 003.501-.001zm0-21a1.75 1.75 0 10-3.501.001A1.75 1.75 0 009.917 3.5zm11.666 2.333a1.75 1.75 0 10-3.501.001 1.75 1.75 0 003.501-.001zm1.75 0a3.502 3.502 0 01-1.75 3.026c-.055 6.581-4.721 8.039-7.82 9.023-2.898.911-3.846 1.349-3.846 3.117v.474a3.502 3.502 0 011.75 3.026c0 1.932-1.568 3.5-3.5 3.5s-3.5-1.568-3.5-3.5c0-1.294.711-2.424 1.75-3.026V6.526A3.502 3.502 0 014.667 3.5c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5a3.502 3.502 0 01-1.75 3.026v9.06c.93-.456 1.914-.766 2.807-1.039 3.391-1.075 5.323-1.878 5.359-5.687a3.502 3.502 0 01-1.75-3.026c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_date" xmlns="http://www.w3.org/2000/svg"><path d="M27.192 28.844V11.192H4.808v17.652h22.384zm0-25.689q1.277 0 2.253.976t.976 2.253v22.459q0 1.277-.976 2.216t-2.253.939H4.808q-1.352 0-2.291-.901t-.939-2.253V6.385q0-1.277.939-2.253t2.291-.976h1.577V.001h3.23v3.155h12.769V.001h3.23v3.155h1.577zm-3.155 11.267v3.155h-3.23v-3.155h3.23zm-6.46 0v3.155h-3.155v-3.155h3.155zm-6.384 0v3.155h-3.23v-3.155h3.23z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_download" xmlns="http://www.w3.org/2000/svg"><path d="M2.866 28.209h26.269v3.79H2.866v-3.79zm26.268-16.925L16 24.418 2.866 11.284h7.493V.001h11.283v11.283h7.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_email" xmlns="http://www.w3.org/2000/svg"><path d="M28.845 9.615v-3.23L16 14.422 3.155 6.385v3.23L16 17.577zm0-6.46q1.277 0 2.216.977T32 6.385v19.23q0 1.277-.939 2.253t-2.216.977H3.155q-1.277 0-2.216-.977T0 25.615V6.385q0-1.277.939-2.253t2.216-.977h25.69z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_git" xmlns="http://www.w3.org/2000/svg"><path d="M27.472 12.753L15.247.529a1.803 1.803 0 00-2.55 0l-2.84 2.84 2.137 2.137a2.625 2.625 0 013.501 3.501l3.499 3.499a2.625 2.625 0 11-1.237 1.237l-3.499-3.499c-.083.04-.169.075-.257.106v7.3a2.626 2.626 0 11-1.75 0v-7.3a2.626 2.626 0 01-1.494-3.607L8.62 4.606l-8.09 8.09a1.805 1.805 0 000 2.551l12.225 12.224a1.803 1.803 0 002.55 0l12.168-12.168a1.805 1.805 0 000-2.551z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_github" xmlns="http://www.w3.org/2000/svg"><path d="M16 .394c8.833 0 15.999 7.166 15.999 15.999 0 7.062-4.583 13.062-10.937 15.187-.813.146-1.104-.354-1.104-.771 0-.521.021-2.25.021-4.396 0-1.5-.5-2.458-1.083-2.958 3.562-.396 7.312-1.75 7.312-7.896 0-1.75-.625-3.167-1.646-4.291.167-.417.708-2.042-.167-4.25-1.333-.417-4.396 1.646-4.396 1.646a15.032 15.032 0 00-8 0S8.937 6.602 7.603 7.018c-.875 2.208-.333 3.833-.167 4.25-1.021 1.125-1.646 2.542-1.646 4.291 0 6.125 3.729 7.5 7.291 7.896-.458.417-.875 1.125-1.021 2.146-.917.417-3.25 1.125-4.646-1.333-.875-1.521-2.458-1.646-2.458-1.646-1.562-.021-.104.979-.104.979 1.042.479 1.771 2.333 1.771 2.333.938 2.854 5.396 1.896 5.396 1.896 0 1.333.021 2.583.021 2.979 0 .417-.292.917-1.104.771C4.582 29.455-.001 23.455-.001 16.393-.001 7.56 7.165.394 15.998.394zM6.063 23.372c.042-.083-.021-.187-.146-.25-.125-.042-.229-.021-.271.042-.042.083.021.187.146.25.104.062.229.042.271-.042zm.646.709c.083-.062.062-.208-.042-.333-.104-.104-.25-.146-.333-.062-.083.062-.062.208.042.333.104.104.25.146.333.062zm.625.937c.104-.083.104-.25 0-.396-.083-.146-.25-.208-.354-.125-.104.062-.104.229 0 .375s.271.208.354.146zm.875.875c.083-.083.042-.271-.083-.396-.146-.146-.333-.167-.417-.062-.104.083-.062.271.083.396.146.146.333.167.417.062zm1.187.521c.042-.125-.083-.271-.271-.333-.167-.042-.354.021-.396.146s.083.271.271.312c.167.062.354 0 .396-.125zm1.313.104c0-.146-.167-.25-.354-.229-.187 0-.333.104-.333.229 0 .146.146.25.354.229.187 0 .333-.104.333-.229zm1.208-.208c-.021-.125-.187-.208-.375-.187-.187.042-.312.167-.292.312.021.125.187.208.375.167s.312-.167.292-.292z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_gitlab" xmlns="http://www.w3.org/2000/svg"><path d="M1.629 11.034L14 26.888.442 17.048a1.09 1.09 0 01-.39-1.203l1.578-4.811zm7.217 0h10.309l-5.154 15.854zM5.753 1.475l3.093 9.559H1.63l3.093-9.559a.548.548 0 011.031 0zm20.618 9.559l1.578 4.811c.141.437-.016.922-.39 1.203l-13.558 9.84 12.371-15.854zm0 0h-7.216l3.093-9.559a.548.548 0 011.031 0z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_heart" xmlns="http://www.w3.org/2000/svg"><path d="M16 29.714a1.11 1.11 0 01-.786-.321L4.072 18.643c-.143-.125-4.071-3.714-4.071-8 0-5.232 3.196-8.357 8.535-8.357 3.125 0 6.053 2.464 7.464 3.857 1.411-1.393 4.339-3.857 7.464-3.857 5.339 0 8.535 3.125 8.535 8.357 0 4.286-3.928 7.875-4.089 8.035L16.785 29.392c-.214.214-.5.321-.786.321z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_down" xmlns="http://www.w3.org/2000/svg"><path d="M3.281 5.36L14 16.079 24.719 5.36 28 8.641l-14 14-14-14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_left" xmlns="http://www.w3.org/2000/svg"><path d="M25.875 28.25L22.125 32 6.126 16.001 22.125.002l3.75 3.75-12.25 12.25z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_right" xmlns="http://www.w3.org/2000/svg"><path d="M6.125 28.25L18.375 16 6.125 3.75 9.875 0l15.999 15.999L9.875 31.998z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_up" xmlns="http://www.w3.org/2000/svg"><path d="M24.719 22.64L14 11.921 3.281 22.64 0 19.359l14-14 14 14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_link" xmlns="http://www.w3.org/2000/svg"><path d="M24.037 7.963q3.305 0 5.634 2.366T32 16t-2.329 5.671-5.634 2.366h-6.46v-3.08h6.46q2.028 0 3.493-1.465t1.465-3.493-1.465-3.493-3.493-1.465h-6.46v-3.08h6.46zM9.615 17.578v-3.155h12.77v3.155H9.615zM3.005 16q0 2.028 1.465 3.493t3.493 1.465h6.46v3.08h-6.46q-3.305 0-5.634-2.366T0 16.001t2.329-5.671 5.634-2.366h6.46v3.08h-6.46q-2.028 0-3.493 1.465t-1.465 3.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_menu" xmlns="http://www.w3.org/2000/svg"><path d="M.001 5.334h31.998v3.583H.001V5.334zm0 12.416v-3.5h31.998v3.5H.001zm0 8.916v-3.583h31.998v3.583H.001z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_notification" xmlns="http://www.w3.org/2000/svg"><path d="M22.615 19.384l2.894 2.894v1.413H2.49v-1.413l2.894-2.894V12.25q0-3.365 1.716-5.856t4.745-3.231v-1.01q0-.875.606-1.514T13.999 0t1.548.639.606 1.514v1.01q3.029.74 4.745 3.231t1.716 5.856v7.134zM14 27.999q-1.211 0-2.053-.808t-.841-2.019h5.788q0 1.144-.875 1.986T14 27.999z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_path" xmlns="http://www.w3.org/2000/svg"><path d="M28 12.62h-9.793V8.414h-2.826v11.173h2.826v-4.206H28V26.62h-9.793v-4.206H12.62v-14H9.794v4.206H.001V1.381h9.793v4.206h8.413V1.381H28V12.62z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_person" xmlns="http://www.w3.org/2000/svg"><path d="M16 20.023q5.052 0 10.526 2.199t5.473 5.754v4.023H0v-4.023q0-3.555 5.473-5.754t10.526-2.199zM16 16q-3.275 0-5.614-2.339T8.047 8.047t2.339-5.661T16 0t5.614 2.386 2.339 5.661-2.339 5.614T16 16z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_search" xmlns="http://www.w3.org/2000/svg"><path d="M11.925 20.161q3.432 0 5.834-2.402t2.402-5.834-2.402-5.834-5.834-2.402-5.834 2.402-2.402 5.834 2.402 5.834 5.834 2.402zm10.981 0L32 29.255 29.255 32l-9.094-9.094v-1.458l-.515-.515q-3.26 2.831-7.721 2.831-4.976 0-8.45-3.432T.001 11.925t3.474-8.45 8.45-3.474 8.407 3.474 3.432 8.45q0 1.802-.858 4.075t-1.973 3.646l.515.515h1.458z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_shield" xmlns="http://www.w3.org/2000/svg"><path d="M22.167 15.166V3.5h-8.166v20.726c.93-.492 2.424-1.349 3.883-2.497 1.95-1.531 4.284-3.919 4.284-6.562zm3.499-13.999v14c0 7.674-10.737 12.523-11.192 12.724-.146.073-.31.109-.474.109s-.328-.036-.474-.109c-.456-.201-11.192-5.049-11.192-12.724v-14C2.334.529 2.863 0 3.501 0H24.5c.638 0 1.167.529 1.167 1.167z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_tags" xmlns="http://www.w3.org/2000/svg"><path d="M6.606 7.549c0-1.047-.84-1.887-1.887-1.887s-1.887.84-1.887 1.887.84 1.887 1.887 1.887 1.887-.84 1.887-1.887zm15.732 8.493c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546s-.988-.206-1.327-.546L1.342 14.066C.59 13.329 0 11.899 0 10.852V4.718a1.9 1.9 0 011.887-1.887h6.134c1.047 0 2.477.59 3.229 1.342L21.792 14.7c.339.354.546.84.546 1.342zm5.661 0c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546-.767 0-1.15-.354-1.651-.87l6.93-6.93c.339-.339.546-.826.546-1.327s-.206-.988-.546-1.342L13.609 4.173c-.752-.752-2.182-1.342-3.229-1.342h3.303c1.047 0 2.477.59 3.229 1.342L27.454 14.7c.339.354.546.84.546 1.342z"/></symbol></svg>



    <div class="wrapper ">
        <input type="checkbox" class="hidden" id="menu-control" />
        <input type="checkbox" class="hidden" id="menu-header-control" />
        
        <header class="gdoc-header">
    <div class="container flex align-center justify-between">
        
        <label for="menu-control" class="gdoc-nav__control">
            <svg class="icon gdoc_menu">
                <title>Open Nav Menu</title>
                <use xlink:href="#gdoc_menu"></use>
            </svg>
            <svg class="icon gdoc_arrow_back">
                <title>Close Nav Menu</title>
                <use xlink:href="#gdoc_arrow_back"></use>
            </svg>
        </label>
        
        <a class="gdoc-header__link" href="https://prifri.github.io/">
            <span class="gdoc-brand flex align-center">
                <img class="gdoc-brand__img" src="/brand.svg" alt="">
                <span class="gdoc-brand__title">Test1234가나다라</span>
            </span>
        </a>
        <div class="gdoc-menu-header">
            
            <span id="gdoc-dark-mode">
                <svg class="icon gdoc_brightness_dark">
                    <title>Toggle Dark/Light/Auto mode</title>
                    <use xlink:href="#gdoc_brightness_dark"></use>
                </svg>
                <svg class="icon gdoc_brightness_light">
                    <title>Toggle Dark/Light/Auto mode</title>
                    <use xlink:href="#gdoc_brightness_light"></use>
                </svg>
                <svg class="icon gdoc_brightness_auto">
                    <title>Toggle Dark/Light/Auto mode</title>
                    <use xlink:href="#gdoc_brightness_auto"></use>
                </svg>
            </span>
            
        </div>
    </div>
</header>


        <main class="container flex flex-even">
            
            <aside class="gdoc-nav">
                <nav>
    
    <div class="gdoc-search">
        <svg class="icon gdoc_search"><use xlink:href="#gdoc_search"></use></svg>
        <input type="text" id="gdoc-search-input" class="gdoc-search__input" placeholder="Search..."
            aria-label="Search" maxlength="64" />
        <div class="gdoc-search__spinner spinner hidden"></div>
        <ul id="gdoc-search-results" class="gdoc-search__list"></ul>
    </div>



    <section class="gdoc-nav--main">
        <h2>Navigation</h2>
        
            

    

    <ul class="gdoc-nav__list">
        
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">Git</span>
            
            

            
                
    

    <ul class="gdoc-nav__list">
        
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/Git/SSH-Key-Setup/" class="gdoc-nav__entry ">
                        SSH Key Setup
                    </a>
                </span>
            
            

            
            </li>
            
            
        
    </ul>

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">Linux_arm64_kernel</span>
            
            

            
                
    

    <ul class="gdoc-nav__list">
        
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/linux_arm64_kernel/memory/cache/" class="gdoc-nav__entry is-active">
                        Cache
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/linux_arm64_kernel/instruction/dc/" class="gdoc-nav__entry ">
                        DC
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/linux_arm64_kernel/memory/device_memory/" class="gdoc-nav__entry ">
                        Device_memory
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/linux_arm64_kernel/instruction/dmb/" class="gdoc-nav__entry ">
                        DMB
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/linux_arm64_kernel/assembly/ifb/" class="gdoc-nav__entry ">
                        Ifb
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/linux_arm64_kernel/arch/TCR/" class="gdoc-nav__entry ">
                        TCR
                    </a>
                </span>
            
            

            
            </li>
            
            
        
    </ul>

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">Make_Site</span>
            
            

            
                
    

    <ul class="gdoc-nav__list">
        
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/Make_Site/Hugo%EB%A1%9C-site-%EB%A7%8C%EB%93%A4%EA%B8%B0/" class="gdoc-nav__entry ">
                        Hugo로 site 만들기
                    </a>
                </span>
            
            

            
            </li>
            
            
        
    </ul>

            
            </li>
            
            
        
    </ul>





        
    </section>

    <section class="gdoc-nav--more">
        
    </section>
</nav>

            </aside>
            

            <div class="gdoc-page">
                
    


    






<div class="gdoc-page__header flex flex-wrap
     justify-between 
     hidden-mobile 
    " itemprop="breadcrumb">
    
    <div>
        <svg class="icon gdoc_path hidden-mobile"><use xlink:href="#gdoc_path"></use></svg>
        <ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
            
            
            
            
    
    
        
        
        
        
    
    
        
        
        
        
    
    
        <li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/' href='/'><span itemprop='name'>Test1234가나다라</span></a><meta itemprop='position' content='2' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/linux_arm64_kernel/' href='/linux_arm64_kernel/'><span itemprop='name'>Linux_arm64_kernel</span></a><meta itemprop='position' content='3' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><span itemprop='name'>Cache</span><meta itemprop='position' content='4' /></li>
    

    

    

        </ol>
    </div>
    
    
</div>


    <article class="gdoc-markdown gdoc-markdown__align--left">
        <h1>Cache</h1>
        <h1 id="참고사이트">참고사이트</h1>
<p><a class="gdoc-markdown__link" href="http://jake.dothome.co.kr/cache4/">문c블로그 Cache-Coherent</a></p>
<hr>
<h1 id="cache-policies">Cache Policies</h1>
<h2 id="cache-allocation-policies">Cache Allocation Policies</h2>
<h3 id="wa-rawrite-allocate-read-allocate">WA, RA(Write-Allocate, Read-Allocate)</h3>
<ul>
<li>
<p>Write시 Cache에 해당 메모리가 없을때(Miss발생시)</p>
<ol>
<li>Cache에 해당 메모리의 데이터를 할당.</li>
<li>할당된 캐시에 데이터를 기록한다.</li>
</ol>
</li>
<li>
<p>Write시 Cache에 해당 메모리가 존재할때</p>
<ol>
<li>RAM에 접근하지않고 Cache에만 접근하고 끝날것이다.</li>
</ol>
</li>
</ul>
<p>cache data는 dirty, memory data는 old가 될것이다.</p>
<p>Read또한 마찬가지로 read시 cache에 없으면 cache에 할당한다.</p>
<p>꽤 많은 블로그에서 WA에대 잘못설명한다.</p>
<p>Cache에 할당하지 않고 바로 Memory에 Write 하기때문에 WT랑 같이 사용하지 않는다는둥, 대부분의 시스템에서는 WT nWA를 사용한다는둥..</p>
<p>WA는 DRAM의 Data를 old로 만들고 cache write(dirty)를 하는거다.. miss일때 최초 한번만 DRAM에 접근한다는 얘기다.</p>
<p>Linux만 놓고 봤을때도 WT의 default는 WA이다&hellip;ㅋㅋ linux말고 대부분이 WT nWA를 쓰나?</p>
<h2 id="cache-write-pollicies">Cache Write Pollicies</h2>
<h3 id="wbwrite-back">WB(Write-Back)</h3>
<ul>
<li>
<p>Write</p>
<ul>
<li>Cache에만 Write. cache가 가득 찻을때만 Memory에 Write</li>
</ul>
</li>
<li>
<p>Read</p>
<ul>
<li>Cache에서만 읽음</li>
</ul>
</li>
</ul>
<h3 id="wtwrite-through">WT(Write-Through)</h3>
<ul>
<li>
<p>Write</p>
<ul>
<li>Cache, Memory 둘다 Write</li>
</ul>
</li>
<li>
<p>Read</p>
<ul>
<li>Cache에서만 읽음</li>
</ul>
</li>
</ul>
<h2 id="cache-allocation--write-pollicies">Cache Allocation + Write Pollicies</h2>
<p>Cache Allocation Policies는 Cache Write시 Miss가 됬을때 Cache Allocate를 할건지에 대한 정책이고</p>
<p>Cache Write Policies는 Write DRAM에도 Write를 하는 정책이다.(Read는 무조건 miss면 DRAM에서 가져오는거니 모든 정책에서 같다)</p>
<p>즉 둘을 나눠서만 생각하면 된다.</p>
<p>Write시 DRAM에도 쓰고 싶으면 WT, Cache만 읽을거면 WB
Write시 Miss가 났을때 Cache에 할당할거면 WA, 아니면 nWA다.</p>
<h2 id="armv8에서의-cache-policies">ARMv8에서의 Cache Policies</h2>
<p>Normal Memory에서는 WTWA만을 사용하는데, TTB관련은 WBWA를 쓰는것처럼 보인다.</p>
<hr>
<h2 id="shareability">Shareability</h2>
<p>아키텍처에서 공유라는것은 CPU를 기준으로 의미한다.</p>
<p>Inner CPU : Linux로 동작하는 모든 시스템
Outer CPU : Linux를 사용하지 않는 시스템(ex GPU)</p>
<hr>
<h1 id="cache-type">Cache Type</h1>
<p>[참고사이트] (<a href="https://aidanbae.github.io/code/devops/computer/cpucache/">https://aidanbae.github.io/code/devops/computer/cpucache/</a>)</p>
<h2 id="direct-mapped-cache">Direct-mapped cache</h2>
<p>[참고사이트] (<a href="https://talkingaboutme.tistory.com/entry/Study-Memory-Hierarchy-2-Direct-Mapped-Cache">https://talkingaboutme.tistory.com/entry/Study-Memory-Hierarchy-2-Direct-Mapped-Cache</a>)</p>
<p>cache구조를 설명할때 그냥 이렇게 동작한다라고 알려주는게 바로 이 방식.
tag, index를 모두 사용하여 특정 cache address가 여러개의 dram address를 커버하게 되는 구조이다.</p>
<h2 id="fully-associative-cache">Fully associative cache</h2>
<p>그냥 아무데나 넣고, 찾을때는 전부 검색해서 찾는 방식.</p>
<h2 id="n-way-set-associative-cache">N-way-set-associative cache</h2>
<p>Block화 하고 그것을 index화 하는 방식으로 fully와 direct방식을 혼합한 거라고 한다.</p>
<h2 id="armv8에서-의-cache-type">ARMv8에서 의 Cache Type.</h2>
<ul>
<li>ARM Ref.11.1.1 Set associative caches and ways 참고</li>
</ul>
<p>Cortex에 따라 달라지는거 같은데 L1 Data cache은 4way, L1 Instruction cache는 2 Way,</p>
<p>L2는 16way, L3은 더 많은 way등을 가질수있다고 한다.</p>
<p>또한 MMU TLBs의 경우를 제외하곤 Way를 늘리는것에 대해 추천하지 않는다고 한다.</p>
<p>MMU TLBs와 같이 매우 작은 cache에 대해서는 Way를 늘리는게 도움이 된다고 하며, 8방향이 minimum이라고 하며,
L2 같이 큰 cache에서만 유용하다는듯 싶다</p>
<hr>
<h1 id="cache-terminology">Cache terminology</h1>
<h2 id="way">Way</h2>
<p>Cache Type을 set-associative로 사용할때 나오는 용어로, 몇개의 line을 1개의 block. 즉 way로 썻냐는것이다.</p>
<p>1 way면 direct mapped와 같은거나 다름없고, way가 총 line수와 같으면 fully와 똑같다.</p>
<h2 id="cache의-용량">Cache의 용량</h2>
<p>Cache의 용량을 말할때는 Line의 크기만을 두고 말한다.</p>
<p>Cache data는 크게 Line, tag로 이루어져있는데 흔히 4k cache등을 말할때는 저 cache data의 구조에서 Line + tag등의
data 전체 크기가 아니라 오로직 Line크기만을 다 합친것을 의미한다.</p>
<h2 id="stbstore-buffer--write-buffer">St.B(Store buffer) / Write buffer</h2>
<p>cpu -&gt; store buffer -&gt; cache -&gt; wirte buffer -&gt; memory</p>
<h2 id="axiadvanced-extensible-interface">AXI(Advanced eXtensible Interface)</h2>
<p>[참고사이트] (<a href="https://m.blog.naver.com/esoclab/20174360379">https://m.blog.naver.com/esoclab/20174360379</a>)</p>
<p>cache -&gt; dram 의 사이에서 사용하고 있는 있는 bus.</p>
<p>AXI를 설명할때 AHB와 비교를 많이하는데, AXI는 채널이라는게 도입됬다고 한다.</p>
<p>기존 버스라는 개념은 예를들어 A(저속 디바이스), B(고속 디바이스)요청이 있을때</p>
<p>A주소 전송 -&gt; Adata 받음(B는 기다려야함)</p>
<p>을 기다려야 됬는데 채널이라는 개념이 도압되면서</p>
<p>1채널에 A주소 전송, 2채널에 B주소 전송이 가능해 진다는것 같다.</p>
<p>또한 버스트 전송이 기본개념이라 버스트 전송을 전제로 동작한다고 한다.</p>
<p>data 전송 단위는 bit이며 8, 16, 32, 64 &hellip; 1024 bit등을 지원하는거 같다.</p>
<h2 id="scusoope-control-unit">SCU(Soope control unit)</h2>
<p>어떤 CPU에서 해당 CPU의 L1 Cache miss data를 L2에 요청했을때 해당 data가 다른 CPU cache에 해당 값이 존재하는지, 존재한다면 해당값을 전송하는 역할을 한다.</p>
<hr>
<h1 id="cache-전송-예제">Cache 전송 예제</h1>
<h2 id="cache-data-1-byte-read-시">Cache Data 1 byte read 시</h2>
<p>다음의 전제를 가진다.</p>
<ol>
<li>cache line 크기 : 16bit 크기의 cache line</li>
<li>AXI 전송단위 : 8bit</li>
</ol>
<p>cache line의 최소크기인 16bit인데 1byte만을 가져올순없다. 그래서 cache line의 최소크기인 16bit로 읽는다.
이때 AXI 전송단위가 8bit이므로 2번을 읽어야되는데, AXI구조상 start address와 length를 주면 해당 값만큼 읽어오는 개념인가보다.
그래서 그렇게 한번의 주소+크기 요청으로 데이터를 가져온다.</p>
<h2 id="cpu---메모리의-데이터-전송-단위">cpu &lt;-&gt; 메모리의 데이터 전송 단위</h2>
<p>cpu -&gt; (가상메모리 cache) -&gt; mmu -&gt; (물리메모리 cache) -&gt; memory</p>
<p>cpu &lt;-&gt; cache : 1byte or 4byte</p>
<p>cache &lt;-&gt; cache : cache line단위</p>
<p>cache memory &lt;-&gt; DRAM : AXI bus 단위</p>
<h2 id="큰그림">큰그림</h2>
<p>cpu A &lt;-&gt; st.b &lt;-&gt; L1 cache &lt;-&gt; |   |
cpu B &lt;-&gt; st.b &lt;-&gt; L1 cache &lt;-&gt; | S |
cpu C &lt;-&gt; st.b &lt;-&gt; L1 cache &lt;-&gt; | C | &lt;-&gt; L2 cache &lt;-&gt; Memory
cpu D &lt;-&gt; st.b &lt;-&gt; L1 cache &lt;-&gt; | U |</p>
<h2 id="heading">&hellip;</h2>
<h1 id="instruction-cache">Instruction cache.</h1>
<p>Instruction cache는 dirty bit가 존재하지 않는다.</p>
<hr>
<h1 id="tlbtranslation-lookaside-buffer">TLB(Translation Lookaside Buffer)</h1>
<p>가상주소를 물리주소로 변환하는 속도를 높이기 위해 사용하는 캐시.</p>
<hr>
<h1 id="cache-maintance">Cache maintance</h1>
<p>[참고사이트] (<a href="https://ko.wikipedia.org/wiki/%EC%BA%90%EC%8B%9C_%EC%9D%BC%EA%B4%80%EC%84%B1">https://ko.wikipedia.org/wiki/%EC%BA%90%EC%8B%9C_%EC%9D%BC%EA%B4%80%EC%84%B1</a>)</p>
<p>CPU간 Cache 일관성을 지켜야하는데, 이 지키는 범위를 정해논게  PoC, PoU라고한다.</p>
<p>CPU간 각자의 cache가 변했다는걸 확인하는게 스누핑 이라는 구조고, (MOESI라는 프로토콜을 쓴다는듯)</p>
<p>이걸 통해서 CPU간의 일관성을 확인한다고한다.</p>
<h2 id="snooping">Snooping</h2>
<p>주소 버스를 항상 감시하여 캐시 상의 메모리에 대한 접근이 있는지를 감소하는 구조.</p>
<p>다른 캐시에서 쓰기가 발생하면 캐시 컨트롤러에 의해서 자신의 캐시 위에 있는 복사본을 무효화시킨다.</p>
<h2 id="pocpoint-of-coherency">Poc(Point of Coherency)</h2>
<p>DMA, DSP등의 외부 Device와 Coherency를 맞추기 위한 개념으로 DRAM까지 Coherency를 맞추는다는것.</p>
<h2 id="poupoint-of-unification">PoU(Point of Unification)</h2>
<p>캐시 일관성을 Data Cache뿐만 아니라 Instruction Cache까지 지킨다는 것.(+Translation Table Walk)</p>
<h2 id="armv8에서의-poc-pou">ARMv8에서의 Poc, PoU</h2>
<p>linux에서는 미리 정해진 PoC, PoU에 따라 Cache Clean을 하는 명령어가 정해져있다.</p>
<p>Instruct Cache같은경우엔 PoU 밖에 존재하지 않는데, Data Cache는 빈번하게 바뀔 여지가 있지만 Instruct Cache를 교체하는 경우가 빈번하지 않고 교체하게 되면 결국 Data Cache까지 바뀌게 되는 개념이므로 PoU만 존재하는것처럼 보인다.</p>
<h3 id="loclevel-of-coherence">LoC(Level of Coherence)</h3>
<p>PoC, PoU가 추상적인 개념이라면, 실제 Arch에 명령어를 날려야할때 몇번 Level까지 수행인지를 정해야된다.
PoC를 수행할 Last Cache에 대한 Level을 의미한다.</p>
<h3 id="louulevel-of-unification-uniprocessor">LoUU(Level of Unification, Uniprocessor)</h3>
<p>단일 Process에서 PoU를 수행할 Last Cache에 대한 Level을 의미한다.</p>
<h3 id="louislevel-of-unification-inner-shareable">LoUIS(Level of Unification, Inner Shareable)</h3>
<p>공유 자원에 대한것에 대해서의 Last Cache에 대한 Level을 의미한다. SMP 에서만 존재한다.
단일 Process는 LOUU, SMP는 LoUISf라고만 일단 이해하고 넘어가야겠다.</p>

    </article>

                








    
    

    





<div class="gdoc-page__footer flex flex-wrap justify-between">
    
    
</div>

            </div>
        </main>

        <footer class="gdoc-footer">
    <div class="container flex">
        <div class="flex flex-wrap">
            <span class="gdoc-footer__item gdoc-footer__item--row">
                Built with <a href="https://gohugo.io/" class="gdoc-footer__link">Hugo</a> and
                <svg class="icon gdoc_heart"><use xlink:href="#gdoc_heart"></use></svg>
            </span>
            
            
        </div>
        
        <div class="flex flex-25 justify-end">
            <span class="gdoc-footer__item">
                <a class="gdoc-footer__link fake-link" href="#" aria-label="Back to top">
                    <svg class="icon gdoc_keyborad_arrow_up"><use xlink:href="#gdoc_keyborad_arrow_up"></use></svg> <span class="hidden-mobile">Back to top</span>
                </a>
            </span>
        </div>
        
    </div>
</footer>

    </div>

    




<script defer src="/js/en.search.min.906335212566964634d06021fd5908e3f8c6d591eb6677d9248c42cfc57bc6a2.js"></script>



<script defer src="/js/clipboard-27784b7376.min.js"></script>
<script defer src="/js/clipboard-loader-f0b5fbd5f6.min.js"></script>


</body>
</html>
